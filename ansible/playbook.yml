---
- name: Installing Java
  hosts: all
  become: yes
  roles:
    - role: geerlingguy.java

- name: Installing ZooKeeper
  hosts: all
  become: yes
  roles:
    - role: AnsibleShipyard.ansible-zookeeper
      zookeeper_version: 3.4.10
      zookeeper_url: http://www.mirrorservice.org/sites/ftp.apache.org/zookeeper/zookeeper-{{zookeeper_version}}/zookeeper-{{zookeeper_version}}.tar.gz

- name: Installing Kakfa
  hosts: all
  become: yes
  roles:
    - role: onaio.kafka
      kafka_version: 1.0.0
      kafka_hosts: "{{ ansible_fqdn }}:9092"
      zookeeper_hosts: "{{ ansible_fqdn }}:2181"
      kafka_heap_opts: "-Xmx521M -Xms512M"
      kafka_num_partitions: 1
      kafka_num_io_threads: 8
      kafka_num_network_threads: 3
